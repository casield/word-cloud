(this["webpackJsonpword-cloud"]=this["webpackJsonpword-cloud"]||[]).push([[0],{196:function(e,t,n){},197:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),c=n(59),a=n.n(c),i=(n(196),n(21)),s=n(7),l=(n(197),n(336)),j=n(17),d=n(328),b=n(345),u=n(329),f=n(343),O=n(344),h=n(331),x=n(332),g=n(43),m=n(326),p=n(4);function C(e){return Object(p.jsx)(m.a,Object(i.a)(Object(i.a)({borderRadius:"md",backgroundColor:"white",border:"1px",borderColor:"blackAlpha.500",boxShadow:"md",margin:2,padding:1},e),{},{children:e.children}))}var w=n(95),v=n(63);function S(e,t){return Math.round(Math.random()*(t-e)+e)}function F(e){var t=Object(o.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(o.useEffect)((function(){e.onChange(r)}),[r]),Object(p.jsxs)(C,{overflow:"hidden",flexDirection:"column",maxH:"30vh",children:[Object(p.jsx)(k,{words:{words:r,setWords:c}}),Object(p.jsx)(d.a,{padding:1,marginTop:2,w:"full",flexDirection:"row",flexWrap:"wrap",overflow:"auto",children:r.map((function(e,t){return Object(p.jsx)(W,{word:e,onChange:function(e){var n=Object(j.a)(r);n[t]=e,c(n)},onDelete:function(){var e=Object(j.a)(r);e.splice(t,1),c(e)}},t)}))})]})}function k(e){return Object(p.jsxs)(b.a,{backgroundColor:"blackAlpha.200",borderRadius:"md",padding:2,children:[Object(p.jsx)(u.a,{padding:2,children:Object(p.jsx)(v.d,{})}),Object(p.jsx)(f.a,{margin:1,colorScheme:"green",leftIcon:Object(p.jsx)(w.a,{}),onClick:function(){e.words.setWords([].concat(Object(j.a)(e.words.words),[{text:"Palabra "+(e.words.words.length+1),times:S(1,1e4)}]))},children:"Agregar palabra"}),Object(p.jsx)(R,Object(i.a)({},e)),Object(p.jsx)(y,Object(i.a)({},e))]})}function y(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e=document.querySelector(".file");null!=e&&(console.log("Deleted"),e.value="")}),[e.words.words]),Object(p.jsxs)(u.a,{children:[Object(p.jsx)("form",{children:Object(p.jsx)(O.a,{type:"file",className:"file",ref:t,accept:".CSV",display:"none",onChange:function(t){if(t.target.files){var n=t.target.files[0],o=new FileReader;o.onload=function(t){var n=t.currentTarget.result.split("\n").map((function(e){var t=e.replace("\r","").split(",");return{text:t[1],times:Number(t[0])}}));e.words.setWords(n)},o.readAsText(n)}},visibility:"hidden"})}),Object(p.jsx)(f.a,{colorScheme:"whatsapp",onClick:function(e){var n,o;(null===(n=t.current)||void 0===n?void 0:n.click)&&(null===t||void 0===t||null===(o=t.current)||void 0===o||o.click())},leftIcon:Object(p.jsx)(v.a,{}),children:"Subir archivo .CSV"})]})}function R(e){var t=Object(o.useRef)(null),n=Object(h.a)(),r=n.isOpen,c=n.onOpen,a=n.onClose;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(f.a,{margin:1,colorScheme:"red",leftIcon:Object(p.jsx)(v.b,{}),onClick:function(){c()},children:"Eliminar todas las palabras"}),Object(p.jsxs)(x.a,{leastDestructiveRef:t,motionPreset:"slideInBottom",onClose:a,isOpen:r,isCentered:!0,children:[Object(p.jsx)(g.f,{}),Object(p.jsxs)(x.b,{children:[Object(p.jsx)(g.e,{children:"\xbfRealmente deseas eliminar todas las palabras?"}),Object(p.jsx)(g.b,{}),Object(p.jsxs)(g.d,{children:[Object(p.jsx)(f.a,{ref:t,onClick:a,children:"No"}),Object(p.jsx)(f.a,{colorScheme:"red",onClick:function(){e.words.setWords([]),a()},ml:3,children:"Si"})]})]})]})]})}function W(e){var t=Object(o.useState)(e.word.text),n=Object(s.a)(t,2),r=n[0],c=n[1],a=Object(o.useState)(e.word.times),i=Object(s.a)(a,2),j=i[0],d=i[1];return Object(o.useEffect)((function(){d(e.word.times),c(e.word.text)}),[e.word]),Object(p.jsxs)(l.a,{backgroundColor:"green.50",maxW:"300px",onContextMenu:function(t){t.preventDefault(),e.onDelete&&e.onDelete()},borderRadius:"md",border:"1px solid",borderColor:"blackAlpha.500",padding:1,gridTemplateColumns:"1fr .5fr",marginY:1,children:[Object(p.jsx)(O.a,{value:r,backgroundColor:"white",onChange:function(t){e.onChange&&(c(t.target.value),e.onChange({text:t.target.value,times:j}))}}),Object(p.jsx)(u.a,{paddingLeft:1,children:Object(p.jsx)(O.a,{textAlign:"center",backgroundColor:"white",fontWeight:"semibold",value:j,onChange:function(t){var n=Number.parseInt(t.target.value);isNaN(n)?d(0):(d(n),e.onChange&&e.onChange({text:r,times:n}))}})})]})}var z=n(168),E=n.n(z),A=n(180);function N(e){var t=Object(o.useState)([]),n=Object(s.a)(t,2),r=(n[0],n[1]),c=Object(o.useRef)(null);Object(o.useEffect)((function(){e.componentRef.setComponentRef(c)}),[c]),Object(o.useEffect)((function(){var t=e.words.words;r(t),a(t)}),[e.words.words,e.colors.colors,e.font.font,e.fontSize.fontSize,e.shape.shape,e.bgColor.color]);var a=function(t){if(null!=c.current){var n=0,o=Object(j.a)(t).sort((function(e,t){return e.times<t.times?1:e.times>t.times?-1:0})).map((function(e){return e.times>n&&(n=e.times),[e.text,e.times]})),r=c.current.offsetWidth,a=e.fontSize.fontSize;E()(c.current,{list:o,gridSize:Math.round(16*r/1024),weightFactor:function(e){return a*(e/n)},color:function(n,o,r,c,a){var i=t.findIndex((function(e){return e.text==n}));return e.colors.colors[i]},shape:e.shape.shape,shuffle:!0,fontFamily:e.font.font,backgroundColor:e.bgColor.color,rotateRatio:0}),console.log("Word Cloud",c.current.offsetWidth)}};return Object(p.jsx)(m.a,{alignItems:"center",justifyContent:"center",maxH:"65vh",padding:1,children:Object(p.jsx)(A.a,{maxHeight:"100%",maxWidth:"100%",onResizeStop:function(){a(e.words.words)},defaultSize:{width:500,height:400},children:Object(p.jsx)(u.a,{border:"1px",position:"relative",overflow:"hidden",borderColor:"blackAlpha.500",backgroundColor:"white",h:"full",w:"full",borderRadius:"md",children:Object(p.jsx)(u.a,{h:"full",w:"full",background:"transparent",ref:c})})})})}var D=n(341),I=n(337),T=n(340),B=n(338),M=n(174),H=n(175),P=n(125),G=n.n(P),J=n(127),L=n(173);function V(e){return Object(p.jsx)(u.a,{maxH:"100vh",children:Object(p.jsxs)(C,{flexDir:"column",maxH:"90%",children:[Object(p.jsx)(u.a,{borderRadius:"lg",color:"white",textAlign:"center",backgroundColor:"black",fontWeight:"semibold",padding:1,children:"Configuraci\xf3n"}),Object(p.jsxs)(D.a,{marginTop:2,allowMultiple:!1,overflow:"auto",maxH:"95%",children:[Object(p.jsx)(K,Object(i.a)({},e)),Object(p.jsx)(Z,Object(i.a)({},e)),Object(p.jsx)($,Object(i.a)({},e)),Object(p.jsx)(_,Object(i.a)({},e))]})]})})}function q(e){return Object(p.jsxs)(D.c,{children:[Object(p.jsx)(D.b,{fontWeight:"semibold",fontSize:"md",children:Object(p.jsxs)(b.a,{children:[e.icon&&e.icon,Object(p.jsx)(u.a,{children:e.title})]})}),Object(p.jsx)(D.d,{children:e.children?e.children:"..."})]})}function Y(e){return Object(p.jsx)(u.a,{fontSize:"sm",fontWeight:"semibold",color:"gray.500",children:e.children})}function K(e){var t=[["#731131","#B1163C","#965F2F","#C19554","#E1CA9F"],["#FFFFFF","#000000"],["#FFF800","#8BC2E3"],["#a8ff78","#78ffd6"],["#ee9ca7","#ffdde1"],["#ED213A","#93291E"],["#11998e","#38ef7d"],["#3C3B3F","#605C3C"],["#000000","#0f9b0f"],["#000046","#1CB5E0"],["#141E30","#243B55"]],n=Object(o.useState)(t[0]),r=Object(s.a)(n,2),c=r[0],a=r[1];return Object(o.useEffect)((function(){if((null===c||void 0===c?void 0:c.length)>1){var t=new G.a;t.setMidpoint(e.words.words.length),t.setGradient.apply(t,Object(j.a)(c)),console.log("Gradient",t.getArray()),e.colors.setColors(t.getArray())}}),[e.words.words,c]),Object(p.jsx)(q,{title:"Colores",icon:Object(p.jsx)(w.b,{}),children:Object(p.jsxs)(b.b,{alignItems:"start",children:[Object(p.jsx)(Y,{children:"Color de la letra"}),Object(p.jsx)(d.a,{children:t.map((function(e){return Object(p.jsx)(Q,{onClick:function(e){return a(e)},selected:JSON.stringify(e)==JSON.stringify(c),colors:e})}))}),Object(p.jsx)(X,Object(i.a)({},e)),Object(p.jsx)(I.a,{}),Object(p.jsx)(Y,{children:"Color de fondo"}),Object(p.jsx)(d.a,{children:t.map((function(t){return t.map((function(t){return Object(p.jsx)(u.a,{w:"20px",cursor:"pointer",border:e.bgColor.color==t?"2px":"none",onClick:function(){e.bgColor.setColor(t)},h:"20px",backgroundColor:t})}))}))}),Object(p.jsx)(U,Object(i.a)({},e))]})})}function Q(e){var t="30px",n="";return e.colors.forEach((function(t,o){n+=t,o<e.colors.length-1&&(n+=", ")})),Object(p.jsx)(u.a,{cursor:"pointer",w:t,borderRadius:"full",onClick:function(){e.onClick(e.colors)},h:t,border:e.selected?"2px":"0px",borderColor:e.selected?"black":"none",background:"linear-gradient(to right,"+n+")"})}function U(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2);n[0],n[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(T.a,{children:[Object(p.jsx)(T.g,{children:Object(p.jsxs)(B.a,{w:"full",children:[" ",Object(p.jsx)(f.a,{colorScheme:"yellow",size:"sm",children:"Seleccionar color"})]})}),Object(p.jsxs)(T.e,{children:[Object(p.jsx)(T.b,{}),Object(p.jsx)(T.d,{}),Object(p.jsx)(T.f,{children:"Selecciona un color"}),Object(p.jsx)(T.c,{children:Object(p.jsx)(B.a,{children:Object(p.jsx)(J.a,{color:e.bgColor.color,onChange:function(t){e.bgColor.setColor(t.hex)}})})})]})]})})}function X(e){var t=Object(o.useState)("#000000"),n=Object(s.a)(t,2),r=n[0],c=n[1],a=Object(o.useState)("#BBFFFF"),i=Object(s.a)(a,2),l=i[0],j=i[1],d=Object(o.useState)(!1),b=Object(s.a)(d,2),O=b[0],h=b[1];Object(o.useEffect)((function(){if(O){var t=new G.a;t.setGradient(r,l),t.setMidpoint(e.words.words.length),e.colors.setColors(t.getArray())}}),[O,r,l]);var x=Object(o.useCallback)((function(e){return Object(p.jsxs)(T.a,{children:[Object(p.jsx)(T.g,{children:Object(p.jsx)(u.a,{border:"2px",cursor:"pointer",backgroundColor:e.color,w:g,h:g})}),Object(p.jsxs)(T.e,{children:[Object(p.jsx)(T.b,{}),Object(p.jsx)(T.d,{}),Object(p.jsx)(T.f,{children:"Selecciona un color"}),Object(p.jsx)(T.c,{children:Object(p.jsx)(B.a,{children:Object(p.jsx)(J.a,{color:e.color,onChange:function(t){e.setColor(t.hex)}})})})]})]})}),[]),g=5;return Object(p.jsxs)(p.Fragment,{children:[O&&Object(p.jsxs)(m.a,{w:"full",alignItems:"center",justifyContent:"center",children:[Object(p.jsx)(x,{color:r,setColor:c}),Object(p.jsx)(u.a,{w:"150px",h:g-2,background:"linear-gradient(to right,"+r+","+l+")"}),Object(p.jsx)(x,{color:l,setColor:j})]}),Object(p.jsx)(B.a,{w:"full",children:Object(p.jsx)(f.a,{size:"sm",onClick:function(){h(!O)},colorScheme:"yellow",children:O?"Cancelar":"Colores personalizados"})})]})}function Z(e){return Object(p.jsx)(q,{title:"Fuente",icon:Object(p.jsx)(v.c,{}),children:Object(p.jsxs)(b.b,{alignItems:"start",children:[Object(p.jsx)(Y,{children:"Tipo de fuente"}),Object(p.jsx)(d.a,{children:["Calibri","Arial","New Times Roman","Courier New","Verdana","Georgia","Palatino","Bookman","Tahoma","Impact","Comic Sans MS",""].map((function(t){var n,o;return Object(p.jsx)(u.a,{border:"1px",borderColor:(null===(n=e.font)||void 0===n?void 0:n.font)==t?"gray.600":"gray.300",padding:1,borderRadius:"md",cursor:"pointer",onClick:function(){e.font.setFont(t)},fontWeight:(null===(o=e.font)||void 0===o?void 0:o.font)==t?"bold":"normal",fontFamily:t,children:t})}))}),Object(p.jsx)(I.a,{}),Object(p.jsx)(Y,{children:"Tama\xf1o m\xe1ximo de la fuente"}),Object(p.jsxs)(m.a,{justifyContent:"end",children:[Object(p.jsx)(O.a,{type:"number",w:"40%",value:e.fontSize.fontSize,onChange:function(t){e.fontSize.setFontSize(t.target.valueAsNumber)}}),Object(p.jsx)(u.a,{h:"full",marginLeft:1,fontSize:"sm",color:"gray.700",fontWeight:"bold",children:"pts."})]})]})})}function $(e){return Object(p.jsx)(q,{title:"Forma",icon:Object(p.jsx)(M.a,{}),children:Object(p.jsx)(d.a,{children:["circle","square","star","cardioid","triangle-forward","triangle","pentagon"].map((function(t){var n,o;return Object(p.jsx)(u.a,{border:"1px",borderColor:(null===(n=e.shape)||void 0===n?void 0:n.shape)==t?"gray.600":"gray.300",padding:1,borderRadius:"md",cursor:"pointer",onClick:function(){e.shape.setShape(t)},fontWeight:(null===(o=e.shape)||void 0===o?void 0:o.shape)==t?"bold":"normal",children:t})}))})})}function _(e){return Object(p.jsx)(q,{title:"Exportar",icon:Object(p.jsx)(H.a,{}),children:Object(p.jsx)(b.b,{children:Object(p.jsx)(u.a,{children:Object(p.jsx)(f.a,{colorScheme:"orange",onClick:function(){var t=new Date,n=t.getDay()+"-"+t.getMonth()+"-"+t.getFullYear();Object(L.exportComponentAsPNG)(e.componentRef.componentRef,{fileName:"WordCloud "+n,html2CanvasOptions:{backgroundColor:"transparent"}})},children:"Exportar como PNG"})})})})}function ee(e){return Object(p.jsxs)(l.a,{w:"full",h:"full",maxH:"100vh",gridTemplateRows:"2fr 1fr",children:[Object(p.jsx)(N,Object(i.a)({},e)),Object(p.jsx)(F,{onChange:function(t){e.words.setWords(t)}})]})}var te=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)([]),a=Object(s.a)(c,2),j=a[0],d=a[1],b=Object(o.useState)("Calibri"),u=Object(s.a)(b,2),f=u[0],O=u[1],h=Object(o.useState)("circle"),x=Object(s.a)(h,2),g=x[0],m=x[1],C=Object(o.useState)("#FFFFFF"),w=Object(s.a)(C,2),v=w[0],S=w[1],F=Object(o.useState)(50),k=Object(s.a)(F,2),y=k[0],R=k[1],W=Object(o.useState)(),z=Object(s.a)(W,2),E={words:{words:n,setWords:r},colors:{colors:j,setColors:d},font:{font:f,setFont:O},fontSize:{fontSize:y,setFontSize:R},shape:{shape:g,setShape:m},componentRef:{componentRef:z[0],setComponentRef:z[1]},bgColor:{color:v,setColor:S}};return Object(p.jsxs)(l.a,{templateColumns:"1fr .2fr",minH:"100vh",backgroundColor:"gray.100",maxW:"100vw",maxH:"100vh",children:[Object(p.jsx)(ee,Object(i.a)({},E)),Object(p.jsx)(V,Object(i.a)({},E))]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,347)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),r(e),c(e),a(e)}))},oe=n(342);a.a.render(Object(p.jsx)(oe.a,{children:Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(te,{})})}),document.getElementById("root")),ne()}},[[312,1,2]]]);
//# sourceMappingURL=main.acdb0bc6.chunk.js.map